# PenciNode - Nền tảng Thiết kế Đồ họa Việt Nam

<p align="center">
  <img
    src="https://via.placeholder.com/800x400/4f46e5/ffffff?text=PenciNode+🎨"
    alt="PenciNode Banner - Vietnamese Graphic Design Platform"
    style="max-width: 100%; height: auto; border-radius: 12px;"
  />
</p>

🎨 **PenciNode** là nền tảng thiết kế đồ họa chuyên nghiệp dành cho người Việt Nam, được xây dựng trên Next.js 15+ với TypeScript và Tailwind CSS. Ứng dụng cung cấp công cụ thiết kế trực tuyến mạnh mẽ, thư viện template phong phú và hệ thống quản lý dự án hoàn chỉnh.

✨ **Tính năng nổi bật:** Xác thực đa nền tảng (Google, Facebook, Email), giao diện admin chuyên nghiệp, hệ thống thông báo thời gian thực, đa ngôn ngữ (Tiếng Việt, English, Français), quản lý người dùng theo vai trò, Socket.IO real-time, MongoDB database, và nhiều tính năng cao cấp khác.

🚀 **Phù hợp cho:** Nhà thiết kế đồ họa, studio thiết kế, doanh nghiệp cần giải pháp thiết kế nội bộ, và các developer muốn tạo nền tảng thiết kế tương tự.

## Tech Stack

**PenciNode** được xây dựng trên nền tảng công nghệ hiện đại và ổn định:

| Frontend | Backend | Database | Tools |
|----------|---------|----------|-------|
| Next.js 15+ | Node.js | MongoDB 8.0+ | TypeScript |
| React 19 | NextAuth.js | Mongoose ODM | Tailwind CSS |
| Tailwind CSS | Socket.IO | - | ESLint + Prettier |
| next-intl | API Routes | - | Vitest + Playwright |

### Demo

**🌐 Demo trực tiếp:** [Đang triển khai](https://pencinode.vercel.app) (Sắp ra mắt)

| Đăng ký | Đăng nhập | Admin Panel |
| --- | --- | --- |
| ![Đăng ký PenciNode](https://via.placeholder.com/300x200/10b981/ffffff?text=Đăng+ký+PenciNode) | ![Đăng nhập PenciNode](https://via.placeholder.com/300x200/3b82f6/ffffff?text=Đăng+nhập+PenciNode) | ![Admin Panel](https://via.placeholder.com/300x200/8b5cf6/ffffff?text=Admin+Panel) |

### Tính năng chính

Trải nghiệm thiết kế đồ họa chuyên nghiệp với công nghệ hiện đại:

#### 🎨 Tính năng Thiết kế
- �️ **Công cụ thiết kế trực tuyến** với giao diện kéo-thả trực quan
- � **Thư viện template phong phú** cho các loại thiết kế phổ biến
- 🎭 **Quản lý dự án thiết kế** với hệ thống folder và version control
- �️ **Xuất file đa định dạng** (PNG, JPG, SVG, PDF)
- � **Collaboration tools** cho nhóm thiết kế

#### 🚀 Công nghệ Core
- ⚡ **Next.js 15+** with App Router và server components
- � **TypeScript** cho type safety hoàn chỉnh
- 💎 **Tailwind CSS 4** với responsive design
- �️ **MongoDB** với Mongoose ODM cho performance cao
- � **NextAuth.js** hỗ trợ Google, Facebook, Email authentication

#### 🌐 Đa ngôn ngữ & UX
- 🇻🇳 **Tiếng Việt làm ngôn ngữ chính** (Vietnamese-first)
- 🌍 **Hỗ trợ đa ngôn ngữ** (Vietnamese, English, Français)
- 📱 **Responsive design** tối ưu cho mọi thiết bị
- 🎯 **UI/UX** được thiết kế riêng cho người Việt

#### �‍💼 Quản lý & Admin
- 🛡️ **Role-based access control** (Super Admin, Admin, User)
- � **Quản lý người dùng** với hệ thống phân quyền chi tiết
- � **Dashboard analytics** theo dõi hoạt động hệ thống
- 🔔 **Hệ thống thông báo** với templates và multi-channel
- � **Báo cáo và thống kê** sử dụng

#### ⚡ Real-time & Performance
- � **Socket.IO** cho real-time collaboration
- � **Server-side rendering** cho SEO tối ưu
- ⚡ **Static generation** cho performance cao
- 🎯 **API optimization** với caching strategies

#### �️ Developer Experience
- � **ESLint + Prettier** cho code quality
- � **Vitest + Playwright** cho testing
- � **TypeScript strict mode** với comprehensive typing
- 📦 **Modern bundling** với optimization
- 🐰 **Hot reload** cho development nhanh chóng

Built-in feature from Next.js:

- ☕ Minify HTML & CSS
- 💨 Live reload
- ✅ Cache busting

Optional features (easy to add):

- 🔑 Multi-tenancy, Role-based access control (RBAC)
- 🔐 OAuth for Single Sign-On (SSO), Enterprise SSO, SAML, OpenID Connect (OIDC), EASIE
- 🔗 Web 3 (Base, MetaMask, Coinbase Wallet, OKX Wallet)

### Triết lý phát triển

- 🇻🇳 **Vietnamese-first approach** - Ưu tiên trải nghiệm người dùng Việt Nam
- 🎨 **Design-focused** - Tập trung vào nhu cầu thiết kế đồ họa thực tế
- 🔧 **Highly customizable** - Mã nguồn mở hoàn toàn, dễ dàng tùy chỉnh
- 📈 **Scalable architecture** - Có thể mở rộng từ startup đến enterprise
- 🚀 **Production-ready** - Sẵn sàng triển khai ngay lập tức
- 💰 **Cost-effective** - Giải pháp tiết kiệm chi phí cho doanh nghiệp Việt
- 🤝 **Community-driven** - Phát triển dựa trên phản hồi cộng đồng
- 🔒 **Security-first** - Bảo mật thông tin thiết kế và dữ liệu người dùng

### Yêu cầu hệ thống

- **Node.js 22+** và npm/yarn
- **MongoDB 8.0+** (local hoặc cloud)
- **Git** cho version control
- **VS Code** (khuyến nghị) với extensions được config sẵn

### Bắt đầu nhanh

Clone repository và cài đặt dependencies:

```shell
git clone https://github.com/trandaigk94/penci.node.git pencinode
cd pencinode
npm install
```

Tạo file environment variables:

```shell
cp .env.example .env.local
```

Cập nhật các biến môi trường trong `.env.local`:

```env
# Database
MONGODB_URI=mongodb://localhost:27017/pencinode

# NextAuth
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key

# OAuth (tùy chọn)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
FACEBOOK_CLIENT_ID=your-facebook-client-id  
FACEBOOK_CLIENT_SECRET=your-facebook-client-secret
```

Khởi chạy server development:

```shell
npm run dev
```

Mở http://localhost:3000 để xem ứng dụng. Server Socket.IO sẽ chạy trên port 8080 cho các tính năng real-time.

### Cấu hình xác thực

PenciNode sử dụng NextAuth.js hỗ trợ đa hình thức đăng nhập:

#### 1. Email & Password (Mặc định)
Không cần cấu hình thêm, đã hoạt động ngay với MongoDB.

#### 2. Google OAuth (Tùy chọn)
Tạo project tại [Google Cloud Console](https://console.cloud.google.com/):
1. Tạo OAuth 2.0 credentials
2. Thêm `http://localhost:3000/api/auth/callback/google` vào Authorized redirect URIs
3. Copy Client ID và Client Secret vào `.env.local`

#### 3. Facebook OAuth (Tùy chọn)  
Tạo app tại [Facebook Developers](https://developers.facebook.com/):
1. Cấu hình Facebook Login
2. Thêm `http://localhost:3000/api/auth/callback/facebook` vào Valid OAuth Redirect URIs
3. Copy App ID và App Secret vào `.env.local`

#### Tài khoản Admin mặc định
Sau khi chạy ứng dụng lần đầu, đăng ký tài khoản đầu tiên sẽ tự động trở thành Super Admin.

### Thiết lập Database

PenciNode sử dụng MongoDB with Mongoose ODM cho hiệu suất và tính linh hoạt cao.

#### MongoDB Local (Development)
```shell
# Cài đặt MongoDB Community Edition
# macOS
brew install mongodb/brew/mongodb-community

# Ubuntu/Debian  
sudo apt-get install mongodb

# Windows: Download từ mongodb.com

# Khởi động MongoDB
mongod --dbpath /your/data/path
```

#### MongoDB Cloud (Production)
Khuyến nghị sử dụng [MongoDB Atlas](https://www.mongodb.com/atlas):

1. **Tạo tài khoản** tại MongoDB Atlas (miễn phí 512MB)
2. **Tạo cluster** mới với cấu hình phù hợp
3. **Whitelist IP** và tạo database user
4. **Copy connection string** và cập nhật vào `.env.local`:

```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/pencinode?retryWrites=true&w=majority
```

#### Database Structure
- **users** - Thông tin người dùng và authentication
- **notifications** - Hệ thống thông báo real-time  
- **notification_templates** - Templates cho thông báo
- **design_projects** - Dự án thiết kế (sắp có)
- **templates** - Thư viện templates thiết kế (sắp có)

### Hệ thống đa ngôn ngữ (i18n)

PenciNode hỗ trợ đa ngôn ngữ với `next-intl`, ưu tiên tiếng Việt:

#### Ngôn ngữ được hỗ trợ
- 🇻🇳 **Tiếng Việt** (mặc định) - `vi.json`
- 🇺🇸 **Tiếng Anh** - `en.json`  
- 🇫🇷 **Tiếng Pháp** - `fr.json`

#### Cấu hình locale
Locale được tự động detect từ URL:
- `/vi/` - Tiếng Việt (mặc định)
- `/en/` - English
- `/fr/` - Français

#### Thêm bản dịch mới
1. Tạo file JSON mới trong `src/locales/`
2. Copy structure từ `vi.json`
3. Thêm locale vào `src/libs/I18nRouting.ts`
4. Cập nhật `defaultLocale` nếu cần

### Cấu trúc dự án

```shell
pencinode/
├── README.md                       # Tài liệu dự án
├── socket-server.js               # Socket.IO server cho real-time
├── .github/                        # GitHub Actions workflows
├── .vscode/                        # VSCode configuration
├── public/                         # Static assets
├── src/
│   ├── app/
│   │   ├── [locale]/              # Internationalized routes
│   │   │   ├── admin/             # Admin panel pages
│   │   │   ├── login/             # Authentication pages  
│   │   │   ├── register/          # User registration
│   │   │   └── page.tsx           # Homepage
│   │   └── api/                   # API routes
│   │       ├── auth/              # NextAuth configuration
│   │       ├── admin/             # Admin API endpoints
│   │       └── notifications/     # Notification system API
│   ├── components/
│   │   ├── admin/                 # Admin panel components
│   │   │   ├── layout/            # Admin layout components
│   │   │   ├── forms/             # Admin forms
│   │   │   ├── tables/            # Data tables
│   │   │   └── charts/            # Analytics charts
│   │   └── AuthProvider.tsx       # Authentication context
│   ├── contexts/                  # React contexts
│   ├── hooks/                     # Custom React hooks
│   ├── icons/                     # SVG icon components
│   ├── libs/                      # Library configurations
│   ├── locales/                   # i18n translation files
│   │   ├── vi.json                # Vietnamese (primary)
│   │   ├── en.json                # English
│   │   └── fr.json                # French
│   ├── middleware/                # API middleware functions
│   ├── models/                    # Mongoose database models
│   ├── services/                  # Business logic services
│   ├── styles/                    # CSS styles
│   ├── types/                     # TypeScript type definitions
│   └── utils/                     # Utility functions
├── tests/                         # Test files
├── next.config.ts                 # Next.js configuration
└── tsconfig.json                  # TypeScript configuration
```

### Tùy chỉnh ứng dụng

PenciNode được thiết kế để dễ dàng tùy chỉnh theo nhu cầu cụ thể:

#### 🎨 Branding & UI
- `public/favicon.ico`, `public/apple-touch-icon.png`: Logo và favicon của bạn
- `src/utils/AppConfig.ts`: Cấu hình tên ứng dụng, metadata
- `src/styles/`: Tùy chỉnh theme colors, fonts, spacing
- `src/components/admin/`: Giao diện admin panel

#### 🌐 Localization  
- `src/locales/vi.json`: Bản dịch tiếng Việt (primary)
- `src/locales/en.json`: Bản dịch tiếng Anh
- `src/locales/fr.json`: Bản dịch tiếng Pháp
- Thêm ngôn ngữ mới trong `src/libs/I18nRouting.ts`

#### 🔧 Configuration
- `.env.local`: Environment variables
- `next.config.ts`: Next.js configuration
- `src/models/`: Database schema modifications
- `src/services/`: Business logic customization

#### 🚀 Advanced Customization
- **Design Tools**: Thêm các công cụ thiết kế mới vào `src/components/design/`
- **Templates**: Tạo thư viện templates trong `src/templates/`
- **Integrations**: Kết nối với third-party services
- **API Extensions**: Mở rộng API endpoints cho tính năng mới

Mã nguồn hoàn toàn mở - bạn có thể tùy chỉnh không giới hạn! 🎨

### Scripts hữu ích

#### Development
```shell
npm run dev          # Khởi chạy development server
npm run build        # Build production
npm run start        # Chạy production build
npm run lint         # Kiểm tra code style
npm run lint:fix     # Tự động fix linting issues
npm run check:types  # Type checking với TypeScript
```

#### Database (MongoDB với Mongoose)
```shell
# Không cần migration commands - MongoDB schema-less
# Models tự động sync khi khởi động ứng dụng
```

#### Testing
```shell
npm run test         # Unit tests với Vitest
npm run test:e2e     # E2E tests với Playwright
npm run storybook    # Storybook UI development
```

#### Production Deployment
```shell
npm run build        # Build optimized production
npm run analyze      # Bundle analyzer
```

### Môi trường phát triển

#### VS Code Extensions (Khuyến nghị)
- **ES7+ React/Redux/React-Native snippets**
- **Tailwind CSS IntelliSense**  
- **TypeScript Importer**
- **Prettier - Code formatter**
- **ESLint**
- **MongoDB for VS Code**

#### Development Workflow
1. Clone repository và cài đặt dependencies
2. Thiết lập MongoDB và environment variables  
3. Chạy `npm run dev` để bắt đầu development
4. Socket.IO server tự khởi động trên port 8080
5. Truy cập http://localhost:3000 để test ứng dụng

### Commit Message Format

The project follows the [Conventional Commits](https://www.conventionalcommits.org/) specification, meaning all commit messages must be formatted accordingly. To help you write commit messages, the project provides an interactive CLI that guides you through the commit process. To use it, run the following command:

```shell
npm run commit
```

One of the benefits of using Conventional Commits is the ability to automatically generate GitHub releases. It also allows us to automatically determine the next version number based on the types of commits that are included in a release.

### CodeRabbit AI Code Reviews

The project uses [CodeRabbit](https://www.coderabbit.ai?utm_source=next_js_starter&utm_medium=github&utm_campaign=next_js_starter_oss_2025), an AI-powered code reviewer. CodeRabbit monitors your repository and automatically provides intelligent code reviews on all new pull requests using its powerful AI engine.

Setting up CodeRabbit is simple, visit [coderabbit.ai](https://www.coderabbit.ai?utm_source=next_js_starter&utm_medium=github&utm_campaign=next_js_starter_oss_2025), sign in with your GitHub account, and add your repository from the dashboard. That's it!

### Testing

All unit tests are located alongside the source code in the same directory, making them easier to find. The unit test files follow this format: `*.test.ts` or `*.test.tsx`. The project uses Vitest and React Testing Library for unit testing. You can run the tests with the following command:

```shell
npm run test
```

[![Run the command in Warp](public/assets/images/warp-banner.png)](https://go.warp.dev/nextjs-bp)

### Integration & E2E Testing

The project uses Playwright for integration and end-to-end (E2E) testing. Integration test files use the `*.spec.ts` extension, while E2E test files use the `*.e2e.ts` extension. You can run the tests with the following commands:

```shell
npx playwright install # Only for the first time in a new environment
npm run test:e2e
```

### Storybook

Storybook is configured for UI component development and testing. The project uses Storybook with Next.js and Vite integration, including accessibility testing and documentation features.

Stories are located alongside your components in the `src` directory and follow the pattern `*.stories.ts` or `*.stories.tsx`.

You can run Storybook in development mode with:

```shell
npm run storybook
```

This will start Storybook on http://localhost:6006 where you can view and interact with your UI components in isolation.

To run Storybook tests in headless mode, you can use the following command:

```shell
npm run storybook:test
```

### Triển khai Production

#### Environment Variables (Production)
Cấu hình các biến môi trường sau cho production:

```env
# Database
MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/pencinode

# NextAuth
NEXTAUTH_URL=https://yourdomain.com
NEXTAUTH_SECRET=your-super-secret-key

# OAuth (Optional)
GOOGLE_CLIENT_ID=production-google-client-id
GOOGLE_CLIENT_SECRET=production-google-client-secret
FACEBOOK_CLIENT_ID=production-facebook-client-id
FACEBOOK_CLIENT_SECRET=production-facebook-client-secret

# Socket.IO (if using separate server)
SOCKET_SERVER_URL=https://your-socket-server.com
```

#### Build & Deploy
```shell
# Build production bundle
npm run build

# Test production build locally
npm run start
```

#### Recommended Deployment Platforms

##### 1. **Vercel** (Khuyến nghị)
```shell
npm i -g vercel
vercel --prod
```

##### 2. **Railway**
```shell
# Connect GitHub repo và auto-deploy
```

##### 3. **DigitalOcean App Platform**
```shell
# Deploy từ GitHub với MongoDB managed database
```

##### 4. **Docker**
```dockerfile
FROM node:22-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

#### Production Checklist
- ✅ MongoDB Atlas connection string configured
- ✅ NextAuth secret key generated (32+ characters)
- ✅ OAuth credentials for production domain
- ✅ Environment variables secured
- ✅ Domain DNS configured
- ✅ SSL certificate enabled



### Monitoring & Bảo mật

#### Error Tracking
Development environment tự động log errors vào console. Production có thể tích hợp:
- **Sentry** - Real-time error tracking
- **LogRocket** - Session replay và monitoring
- **Custom logging** - Lưu logs vào MongoDB

#### Security Features  
- 🛡️ **NextAuth.js** - Secure authentication
- 🔒 **JWT tokens** - Stateless session management
- 🚫 **CORS protection** - API endpoint security
- 🔐 **Environment variables** - Sensitive data protection

Arcjet is configured with a central client at `src/libs/Arcjet.ts` that includes the Shield WAF rules. Additional rules are applied when Arcjet is called in `middleware.ts`.

### Useful commands

### Code Quality and Validation

The project includes several commands to ensure code quality and consistency. You can run:

- `npm run lint` to check for linting errors
- `npm run lint:fix` to automatically fix fixable issues from the linter
- `npm run check:types` to verify type safety across the entire project
- `npm run check:deps` help identify unused dependencies and files
- `npm run check:i18n` ensures all translations are complete and properly formatted

#### Bundle Analyzer

PenciNode có built-in bundle analyzer để phân tích kích thước JavaScript bundles:

```shell
npm run build-stats
```

Lệnh này sẽ tự động mở trình duyệt và hiển thị kết quả phân tích bundle size.

#### Database Management
Sử dụng **MongoDB Compass** hoặc **VS Code MongoDB extension** để explore database:

```shell
# Cài đặt MongoDB Compass (GUI)
# Download tại: https://www.mongodb.com/products/compass

# Hoặc sử dụng MongoDB VS Code extension
# Extension ID: mongodb.mongodb-vscode
```

### VS Code Setup (Khuyến nghị)

Extensions được config sẵn trong `.vscode/extensions.json`:
- **MongoDB for VS Code** - Database management
- **ES7+ React/Redux/React-Native snippets** - Code snippets
- **Tailwind CSS IntelliSense** - CSS autocomplete  
- **TypeScript Importer** - Auto import
- **Prettier + ESLint** - Code formatting

**Pro tip**: Sử dụng <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> → "TypeScript: Check" để type checking toàn project.

### Đóng góp cho dự án

Chúng tôi hoan nghênh mọi đóng góp từ cộng đồng! 🤝

#### Cách thức đóng góp
- 🐛 **Báo lỗi**: Tạo issue mô tả chi tiết lỗi gặp phải
- 💡 **Đề xuất tính năng**: Chia sẻ ý tưởng tính năng mới
- 🔧 **Pull requests**: Fork repo và gửi PR với improvements
- 📖 **Tài liệu**: Cải thiện documentation và hướng dẫn
- 🌐 **Localization**: Thêm bản dịch ngôn ngữ mới

#### Quy tắc đóng góp
- Tuân thủ coding standards (ESLint + Prettier)
- Viết commit messages theo format conventional
- Thêm tests cho tính năng mới
- Cập nhật documentation khi cần thiết

#### Roadmap tính năng
- 🎨 **Advanced Design Tools**: Layers, effects, animations
- 📚 **Template Marketplace**: Community template sharing
- 👥 **Team Collaboration**: Real-time co-editing
- 🔌 **API Integration**: Canva, Figma import/export
- 📱 **Mobile App**: React Native companion app

### Tác giả & Cộng đồng

Được phát triển bởi **[@trandaigk94](https://github.com/trandaigk94)** và cộng đồng developer Việt Nam.

🙏 **Đặc biệt cảm ơn**:
- [Next.js team](https://nextjs.org) cho framework tuyệt vời
- [trandaigk94](https://github.com/trandaigk94) - PenciNode Development Team
- Cộng đồng open source Việt Nam

### License

Licensed under the MIT License, Copyright © 2025

Xem [LICENSE](LICENSE) để biết thêm thông tin chi tiết.

---

### Liên hệ & Hỗ trợ

- 📧 **Email**: trandaigk94@gmail.com
- 🐛 **Issues**: [GitHub Issues](https://github.com/trandaigk94/penci.node/issues)
- 💬 **Discussions**: [GitHub Discussions](https://github.com/trandaigk94/penci.node/discussions)
- 📱 **Social**: [Facebook Developer Group Vietnam](https://facebook.com/groups/vietnam.developers)

**Hãy star ⭐ repository nếu PenciNode hữu ích cho bạn!**

---

<p align="center">
  <strong>🎨 PenciNode - Made with ❤️ for Vietnamese Designers</strong>
</p>

<p align="center">
  <a href="https://github.com/trandaigk94/penci.node/stargazers">⭐ Star this repo</a> •
  <a href="https://github.com/trandaigk94/penci.node/issues">🐛 Report Bug</a> •  
  <a href="https://github.com/trandaigk94/penci.node/discussions">💬 Request Feature</a>
</p>

<p align="center">
  <img src="https://img.shields.io/github/stars/trandaigk94/penci.node?style=social" alt="GitHub stars">
  <img src="https://img.shields.io/github/forks/trandaigk94/penci.node?style=social" alt="GitHub forks">
  <img src="https://img.shields.io/github/license/trandaigk94/penci.node" alt="License">
</p>
